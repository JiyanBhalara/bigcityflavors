<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Big City Flavors</title>
  <meta name="description" content="Big City Flavors â€” Live menu, ordering, and contact." />

  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Sora:wght@500;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      /* Sophisticated dark theme */
      --bg: #0a0e27;
      --bg-secondary: #111827;
      --deep: #1a1f3a;
      --accent: #06b6d4;
      --accent-secondary: #8b5cf6;
      --accent-tertiary: #3b82f6;
      --glow: rgba(6,182,212,0.5);
      --glow-purple: rgba(139,92,246,0.4);

      /* Visual tuning */
      --video-opacity: 0.90;
      --fx-opacity: 0.36;

      
      /* Glass morphism */
      --glass-bg: rgba(17,24,39,0.6);
      --glass-border: rgba(6,182,212,0.15);
      --glass-highlight: rgba(255,255,255,0.05);

      /* Text */
      --text: rgba(255,255,255,0.98);
      --text-secondary: rgba(255,255,255,0.85);
      --text-muted: rgba(255,255,255,0.65);
      --text-shadow: 0 2px 20px rgba(0,0,0,0.7);
      --shadow-sm: 0 4px 12px rgba(0,0,0,0.3);
      --shadow-md: 0 10px 40px rgba(0,0,0,0.4);
      --shadow-lg: 0 20px 60px rgba(0,0,0,0.5);
      --shadow-xl: 0 30px 90px rgba(0,0,0,0.6);
      
      --radius-sm: 12px;
      --radius-md: 18px;
      --radius-lg: 24px;
      --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

      --font-body: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      --font-display: Sora, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }

    .stat[data-reveal]{
      transition-delay: calc(var(--i, 0) * 70ms);
    }

    *{ box-sizing: border-box; margin: 0; padding: 0; }
    html{ 
      scroll-behavior: smooth;
      overflow: hidden;
    }
    html, body{ 
      height: 100%; 
      margin: 0; 
      padding: 0; 
      background: var(--bg); 
      color: var(--text); 
      font-family: var(--font-body);
      overflow: hidden;
      width: 100%;
    }
    a{ color: inherit; text-decoration: none; }
    button{ font: inherit; color: inherit; }

    .wrap{
      position: relative;
      height: 100vh;
      width: 100%;
      overflow-x: hidden;
      overflow-y: auto;
      isolation: isolate;
      background: var(--bg);
      background-size: cover;

      background-position: center;
    }
    .wrap::before{
      content: '';
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 150%;
      height: 150%;
      background: 
        radial-gradient(circle at 20% 80%, rgba(139,92,246,0.08) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(6,182,212,0.08) 0%, transparent 50%),
        radial-gradient(circle at 40% 40%, rgba(59,130,246,0.05) 0%, transparent 50%);
      animation: gradientShift 20s ease-in-out infinite;
      pointer-events: none;
      z-index: 0;
    }
    @keyframes gradientShift{
      0%, 100%{ transform: translate(-50%, -50%) rotate(0deg); }
      50%{ transform: translate(-50%, -50%) rotate(180deg); }
    }

    /* Video background */
    .bg-video{
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center;
      transform: none;
      filter: contrast(1.08) saturate(1.14) brightness(1.06);
      opacity: var(--video-opacity);
      z-index: 0;
    }

    /* Overlays */
    .glass-bg{
      position: absolute;
      inset: -2px;
      pointer-events: none;
      z-index: 1;
      background:
        radial-gradient(1200px 760px at 50% 38%, rgba(255,255,255,0.06), rgba(0,0,0,0.12) 70%),
        linear-gradient(135deg, rgba(255,255,255,0.045), rgba(0,0,0,0.14));
      backdrop-filter: blur(0.6px) saturate(120%);
      -webkit-backdrop-filter: blur(0.6px) saturate(120%);
    }
    .vignette{
      position: absolute;
      inset: -2px;
      background:
        radial-gradient(1200px 760px at 50% 40%, rgba(0,0,0,0.00), rgba(0,0,0,0.18) 74%),
        linear-gradient(to bottom, rgba(0,0,0,0.10), rgba(0,0,0,0.18));
      z-index: 2;
    }
    /* FX canvas (Three.js bubbles) */
    #fx{
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      z-index: 3;
      pointer-events: none;
      opacity: 0;
      transition: opacity 900ms ease;
    }
    body.fx-on #fx{ opacity: var(--fx-opacity); }

    .content, .container{
      position: relative;
      z-index: 4;
      min-height: 100vh;
      padding: 0;
      padding-bottom: 90px;
      width: 100%;
      margin: 0;
      display: flex;
      flex-direction: column;
      gap: 0;
      align-items: stretch;
    }
    .content > *:not(.hero){
      width: min(1400px, 100%);
      margin-left: auto;
      margin-right: auto;
      padding-left: clamp(24px, 4vw, 60px);
      padding-right: clamp(24px, 4vw, 60px);
    }

    /* At page top: keep it cinematic (hero-only) */
    body.at-top .topnav{
      opacity: 0;
      transform: translateY(-10px);
      pointer-events: none;
      transition: opacity .28s ease, transform .28s ease;
    }
    .topnav{
      transition: opacity .28s ease, transform .28s ease;
      will-change: opacity, transform;
    }

    /* Top navigation */
    .topnav{
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 6;
      padding: clamp(14px, 2vw, 20px) clamp(18px, 3vw, 32px);
      background: linear-gradient(to bottom, rgba(10,14,39,0.8), rgba(10,14,39,0.4));
      backdrop-filter: blur(20px) saturate(180%);
      -webkit-backdrop-filter: blur(20px) saturate(180%);
      border-bottom: 1px solid var(--glass-border);
      box-shadow: 0 4px 20px rgba(0,0,0,0.3);
    }
    .nav-inner{
      width: min(1040px, 100%);
      margin: 0 auto;
      display: flex;
      justify-content: center;
    }
    .nav-actions{
      display: flex;
      gap: 12px;
      align-items: stretch;
      justify-content: center;
      flex-wrap: wrap;
      width: 100%;
    }

    .nav-link{
      appearance: none;
      background: transparent;
      border: 1px solid transparent;
      padding: 12px 20px;
      cursor: pointer;
      color: var(--text-secondary);
      font-weight: 600;
      letter-spacing: 0.05em;
      text-transform: uppercase;
      font-size: clamp(11px, 1.2vw, 13px);
      text-shadow: var(--text-shadow);
      position: relative;
      transition: var(--transition);
      border-radius: var(--radius-sm);
    }
    .nav-link:hover{ 
      color: var(--accent);
      background: rgba(6,182,212,0.1);
      border-color: var(--glass-border);
      transform: translateY(-2px);
    }
    .nav-link:active{ transform: translateY(0); }
    .nav-link:focus-visible{ 
      outline: 2px solid var(--accent); 
      outline-offset: 2px;
    }
    .nav-link::after{
      content: "";
      position: absolute;
      left: 50%;
      bottom: 8px;
      transform: translateX(-50%) scaleX(0);
      width: 60%;
      height: 2px;
      background: linear-gradient(90deg, var(--accent), var(--accent-secondary));
      border-radius: 2px;
      transition: transform 0.3s ease;
    }
    .nav-link:hover::after{ transform: translateX(-50%) scaleX(1); }

    .hero{
      width: 100%;
      min-height: 100vh;
      position: relative;
      overflow: hidden;
      isolation: isolate;
      display: grid;
      place-items: center;
      text-align: center;
      padding: clamp(18px, 3vw, 30px);
      background: transparent;
      border: none;
      box-shadow: none;
      text-shadow: 0 2px 18px rgba(0,0,0,0.82);
      margin: 0;
    }
    .hero::after{
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 300px;
      background: linear-gradient(to bottom, 
        transparent 0%, 
        rgba(10,14,39,0.15) 20%,
        rgba(10,14,39,0.4) 40%,
        rgba(10,14,39,0.7) 60%,
        rgba(10,14,39,0.9) 80%,
        var(--bg) 100%);
      z-index: 3;
      pointer-events: none;
    }
    .hero-bg{
      position: absolute;
      inset: 0;
      z-index: 0;
      pointer-events: none;
    }
    .hero .brand{ width: min(920px, 100%); position: relative; z-index: 4; }
    .hero .kicker{ justify-content: center; }
    .hero .sub{ margin-left: auto; margin-right: auto; }

    .hero-title{
      margin: 10px 0 0;
      font-family: var(--font-display);
      font-weight: 750;
      font-size: clamp(44px, 6.6vw, 82px);
      line-height: 0.98;
      letter-spacing: -0.03em;
      text-shadow: 0 2px 30px rgba(0,0,0,0.82);
      color: rgba(255,255,255,0.98);
    }
    .hero-title .break{ display: block; }

    .hero-brand{
      margin: 10px 0 0;
      font-family: var(--font-display);
      font-weight: 800;
      font-size: clamp(18px, 2.8vw, 30px);
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: rgba(255,255,255,0.96);
    }

    .hero-tagline{
      margin: 12px auto 0;
      color: rgba(255,255,255,0.90);
      font-size: clamp(13px, 1.7vw, 16px);
      line-height: 1.6;
      max-width: 76ch;
    }

    /* Make anchored sections land nicely below the fixed nav */
    .section{ 
      scroll-margin-top: 110px;
      margin-top: clamp(22px, 3.5vw, 38px);
    }
    .section:first-of-type{
      margin-top: 0;
    }

    /* Left / Center / Right info rail (no blocks) */
    .info-rail{
      width: 100%;
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: clamp(10px, 2.4vw, 20px);
      align-items: start;
      margin-top: 18px;
    }
    .info-rail .slot{
      padding: 10px 0;
    }
    .info-rail .slot.center{ text-align: center; }
    .info-rail .slot.right{ text-align: right; }
    .info-rail .label{
      font-size: 11px;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: rgba(255,255,255,0.78);
    }
    .info-rail .value{
      margin-top: 8px;
      font-family: var(--font-display);
      font-weight: 650;
      letter-spacing: -0.01em;
      color: rgba(255,255,255,0.96);
      text-shadow: 0 2px 18px rgba(0,0,0,0.72);
    }
    .info-rail .value small{
      display: block;
      margin-top: 6px;
      font-family: var(--font-body);
      font-weight: 500;
      color: rgba(255,255,255,0.84);
      letter-spacing: 0;
    }

    /* Products video feature */
    .video-feature{
      width: 100%;
      margin-top: 48px;
    }
    .video-card{
      position: relative;
      border-radius: var(--radius-lg);
      border: 1px solid var(--glass-border);
      overflow: hidden;
      background: var(--glass-bg);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      box-shadow: var(--shadow-xl), 0 0 40px rgba(6,182,212,0.15);
      transform-style: preserve-3d;
      transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .video-card:hover{
      transform: translateY(-10px);
      border-color: var(--accent);
      box-shadow: var(--shadow-xl), 0 0 80px rgba(6,182,212,0.4), 0 0 120px rgba(139,92,246,0.3);
    }
    .video-card::before{
      content: "";
      position: absolute;
      inset: -2px;
      background:
        radial-gradient(800px 300px at 20% 0%, rgba(6,182,212,0.15), transparent 55%),
        radial-gradient(900px 340px at 80% 110%, rgba(139,92,246,0.15), transparent 60%);
      pointer-events: none;
      z-index: 2;
      opacity: 0;
      transition: opacity 0.6s ease;
    }
    .video-card:hover::before{
      opacity: 1;
    }
    .video-card::after{
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(to top, rgba(10,14,39,0.9), rgba(10,14,39,0.1) 60%);
      pointer-events: none;
      z-index: 2;
    }
    .promo-video{
      width: 100%;
      height: auto;
      display: block;
      aspect-ratio: 16 / 9;
      object-fit: cover;
      filter: contrast(1.05) saturate(1.08);
      transform: scale(1.02);
    }
    .video-caption{
      position: absolute;
      left: clamp(20px, 3vw, 32px);
      right: clamp(20px, 3vw, 32px);
      bottom: clamp(20px, 3vw, 32px);
      z-index: 3;
      display: flex;
      align-items: flex-end;
      justify-content: space-between;
      gap: 16px;
    }
    .video-caption .title{
      font-family: var(--font-display);
      font-weight: 700;
      font-size: clamp(20px, 2.5vw, 32px);
      letter-spacing: -0.02em;
      text-shadow: var(--text-shadow);
      background: linear-gradient(135deg, var(--text) 0%, var(--text-secondary) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .video-caption .sub{
      margin: 8px 0 0;
      color: var(--text-secondary);
      font-size: clamp(14px, 1.5vw, 16px);
      max-width: 65ch;
      line-height: 1.6;
    }

    .cta-row{
      margin-top: 24px;
      display: flex;
      gap: 16px;
      justify-content: center;
      flex-wrap: wrap;
    }
    .cta{
      position: relative;
      border-radius: var(--radius-md);
      padding: 14px 28px;
      border: 1px solid var(--glass-border);
      background: linear-gradient(135deg, rgba(17,24,39,0.8), rgba(26,31,58,0.6));
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      box-shadow: var(--shadow-md);
      cursor: pointer;
      color: var(--text);
      font-weight: 600;
      font-size: clamp(14px, 1.5vw, 16px);
      letter-spacing: 0.02em;
      transition: var(--transition);
      overflow: hidden;
    }
    .cta::before{
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, rgba(6,182,212,0.2), rgba(139,92,246,0.2));
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    .cta:hover{
      transform: translateY(-4px);
      border-color: var(--accent);
      box-shadow: var(--shadow-lg), 0 0 30px rgba(6,182,212,0.3);
    }
    .cta:hover::before{
      opacity: 1;
    }
    .cta:active{ 
      transform: translateY(-2px) scale(0.98); 
    }

    .cta.primary{
      background: linear-gradient(135deg, var(--accent) 0%, var(--accent-secondary) 100%);
      border-color: transparent;
      color: white;
      font-weight: 700;
      box-shadow: var(--shadow-md), 0 0 30px rgba(6,182,212,0.4);
    }
    .cta.primary:hover{
      box-shadow: var(--shadow-lg), 0 0 50px rgba(6,182,212,0.6), 0 0 80px rgba(139,92,246,0.4);
      transform: translateY(-4px) scale(1.02);
    }

    /* Sections */
    .sections{
      width: 100%;
      display: flex;
      flex-direction: column;
      gap: clamp(40px, 6vw, 80px);
      position: relative;
      padding-top: 80px;
      margin-top: -80px;
      background: var(--bg);
    }
    .sections::before{
      content: '';
      position: absolute;
      top: 60px;
      left: 50%;
      transform: translateX(-50%);
      width: 100%;
      max-width: 600px;
      height: 1px;
      background: linear-gradient(90deg, 
        transparent 0%, 
        rgba(6,182,212,0.2) 20%,
        var(--accent) 50%,
        rgba(6,182,212,0.2) 80%,
        transparent 100%);
      box-shadow: 0 0 20px rgba(6,182,212,0.4);
    }

    .section{
      width: 100%;
      position: relative;
    }
    .section:first-child{
      padding-top: 20px;
    }
    .section:first-child::before{
      content: '';
      position: absolute;
      top: -60px;
      left: 50%;
      transform: translateX(-50%);
      width: 350px;
      height: 350px;
      background: radial-gradient(circle, 
        rgba(6,182,212,0.15) 0%, 
        rgba(139,92,246,0.1) 40%, 
        transparent 70%);
      filter: blur(80px);
      pointer-events: none;
      z-index: -1;
      animation: ambientGlow 8s ease-in-out infinite;
    }
    @keyframes ambientGlow{
      0%, 100%{ 
        opacity: 0.6; 
        transform: translateX(-50%) scale(1); 
      }
      50%{ 
        opacity: 1; 
        transform: translateX(-50%) scale(1.15); 
      }
    }

    /* Transparent section alignment */
    .section-row{
      width: 100%;
      display: flex;
    }
    .section-row.align-left{ justify-content: flex-start; text-align: left; }
    .section-row.align-right{ justify-content: flex-end; text-align: right; }
    .section-row.align-center{ justify-content: center; text-align: center; }
    .section-content{ 
      width: 100%;
      max-width: 1280px;
      margin: 0 auto;
      padding: 0 clamp(16px, 2vw, 24px);
    }

    .section h2{
      position: relative;
      margin: 0 0 24px;
      font-family: var(--font-display);
      font-weight: 700;
      font-size: clamp(28px, 4vw, 48px);
      letter-spacing: -0.03em;
      background: linear-gradient(135deg, var(--text) 0%, var(--text-secondary) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      padding-bottom: 16px;
      opacity: 0;
      transform: translateY(20px);
      animation: fadeInUp 0.8s ease forwards 0.2s;
    }
    .section h2::after{
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%) scaleX(0);
      width: 80px;
      height: 4px;
      background: linear-gradient(90deg, var(--accent), var(--accent-secondary));
      border-radius: 2px;
      animation: scaleInX 0.6s ease forwards 0.6s;
    }
    @keyframes scaleInX{
      to{
        transform: translateX(-50%) scaleX(1);
      }
    }

    .section p{
      margin: 0;
      color: var(--text-secondary);
      line-height: 1.7;
      font-size: clamp(15px, 1.8vw, 18px);
    }

    .glass{
      position: relative;
      border-radius: 0;
      border: 0;
      background: transparent;
      backdrop-filter: none;
      -webkit-backdrop-filter: none;
      box-shadow: none;
      padding: clamp(20px, 3vw, 32px);
      overflow: visible;
      transform-style: preserve-3d;
    }
    
    /* Special styling for featured sections */
    #order{
      margin-bottom: clamp(60px, 8vw, 100px);
    }
    #order .glass{
      padding: clamp(40px, 6vw, 80px);
      border-radius: var(--radius-lg);
      border: 2px solid transparent;
      background: 
        linear-gradient(var(--bg), var(--bg)) padding-box,
        linear-gradient(135deg, var(--accent), var(--accent-secondary), var(--accent-tertiary)) border-box;
      backdrop-filter: blur(30px);
      -webkit-backdrop-filter: blur(30px);
      box-shadow: 
        var(--shadow-xl), 
        0 0 80px rgba(6,182,212,0.3),
        inset 0 1px 0 rgba(255,255,255,0.1);
      position: relative;
      overflow: hidden;
    }
    #order .glass::before{
      content: '';
      position: absolute;
      inset: 0;
      background: 
        radial-gradient(circle at 50% 0%, rgba(6,182,212,0.15) 0%, transparent 50%),
        radial-gradient(circle at 0% 100%, rgba(139,92,246,0.12) 0%, transparent 50%),
        radial-gradient(circle at 100% 100%, rgba(59,130,246,0.12) 0%, transparent 50%);
      pointer-events: none;
      animation: pulseGlow 4s ease-in-out infinite;
    }
    #order .glass::after{
      content: '';
      position: absolute;
      inset: -2px;
      background: linear-gradient(135deg, var(--accent), var(--accent-secondary), var(--accent-tertiary));
      border-radius: var(--radius-lg);
      opacity: 0;
      z-index: -1;
      transition: opacity 0.6s ease;
    }
    #order .glass:hover::after{
      opacity: 0.15;
    }
    @keyframes pulseGlow{
      0%, 100%{ opacity: 0.8; }
      50%{ opacity: 1; }
    }

    .grid-2{
      display: grid;
      grid-template-columns: 1.15fr 0.85fr;
      gap: clamp(14px, 2.4vw, 22px);
      align-items: start;
    }

    .stats{
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(min(180px, 100%), 1fr));
      gap: clamp(16px, 2vw, 24px);
      margin-top: 32px;
    }
    .stat{
      position: relative;
      border-radius: var(--radius-md);
      border: 1px solid var(--glass-border);
      background: linear-gradient(135deg, var(--glass-bg) 0%, rgba(17,24,39,0.4) 100%);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      padding: clamp(20px, 3vw, 32px) clamp(16px, 2vw, 24px);
      text-align: center;
      transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      overflow: visible;
      box-shadow: var(--shadow-sm);
      opacity: 0;
      transform: translateY(30px);
      animation: fadeInUp 0.8s ease forwards;
      min-width: 0;
    }
    .stat:nth-child(1){ animation-delay: 0.1s; }
    .stat:nth-child(2){ animation-delay: 0.2s; }
    .stat:nth-child(3){ animation-delay: 0.3s; }
    .stat:nth-child(4){ animation-delay: 0.4s; }
    @keyframes fadeInUp{
      to{
        opacity: 1;
        transform: translateY(0);
      }
    }
    .stat::before{
      content: '';
      position: absolute;
      inset: -2px;
      background: linear-gradient(135deg, var(--accent), var(--accent-secondary), var(--accent-tertiary), var(--accent));
      border-radius: var(--radius-md);
      opacity: 0;
      transition: opacity 0.5s ease;
      z-index: -1;
    }
    .stat::after{
      content: '';
      position: absolute;
      inset: 0;
      background: var(--glass-bg);
      border-radius: var(--radius-md);
      z-index: -1;
    }
    .stat:hover{
      transform: translateY(-6px);
      border-color: transparent;
      background: linear-gradient(135deg, rgba(17,24,39,0.95) 0%, rgba(26,31,58,0.8) 100%);
      box-shadow: var(--shadow-xl), 0 0 40px rgba(6,182,212,0.3);
    }
    .stat:hover::before{
      opacity: 1;
    }
    .stat:hover .num{
      color: var(--text);
      text-shadow: 0 0 40px rgba(6,182,212,0.8), 0 0 20px rgba(139,92,246,0.6);
      transform: scale(1.05);
    }
    .stat .num{
      font-family: var(--font-display);
      font-weight: 800;
      font-size: clamp(28px, 3.5vw, 42px);
      letter-spacing: -0.03em;
      color: var(--accent);
      margin-bottom: 8px;
      text-shadow: 0 0 30px rgba(6,182,212,0.5), 0 2px 4px rgba(0,0,0,0.5);
      transition: all 0.4s ease;
      word-wrap: break-word;
      overflow-wrap: break-word;
      white-space: normal;
      line-height: 1.1;
      display: block;
      width: 100%;
    }
    .stat .lbl{
      font-size: clamp(11px, 1.2vw, 13px);
      color: var(--text-muted);
      letter-spacing: 0.15em;
      text-transform: uppercase;
      font-weight: 600;
    }

    .product-grid{
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: clamp(20px, 2.5vw, 32px);
      margin-top: 32px;
    }
    .product{
      position: relative;
      border-radius: var(--radius-md);
      border: 1px solid var(--glass-border);
      background: linear-gradient(135deg, var(--glass-bg), rgba(26,31,58,0.4));
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      padding: clamp(20px, 3vw, 28px);
      min-height: 160px;
      display: flex;
      flex-direction: column;
      gap: 12px;
      transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: var(--shadow-sm);
      overflow: hidden;
    }
    .product::before{
      content: '';
      position: absolute;
      inset: -2px;
      background: linear-gradient(135deg, var(--accent), var(--accent-tertiary), var(--accent));
      border-radius: var(--radius-md);
      opacity: 0;
      transition: opacity 0.5s ease;
      z-index: -1;
    }
    .product::after{
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, var(--glass-bg), rgba(26,31,58,0.4));
      border-radius: var(--radius-md);
      z-index: -1;
    }
    .product:hover{
      transform: translateY(-8px);
      border-color: transparent;
      background: linear-gradient(135deg, rgba(17,24,39,0.9), rgba(26,31,58,0.7));
      box-shadow: var(--shadow-xl), 0 0 50px rgba(6,182,212,0.25);
    }
    .product:hover::before{
      opacity: 1;
    }

    @media (max-width: 720px){
      .section-row{ justify-content: flex-start; text-align: left; }
      .section-row.align-right{ justify-content: flex-start; text-align: left; }
    }

    /* Mobile polish for text-heavy sections (clean + readable) */
    @media (max-width: 520px){
      .section-content.mobile-card{
        width: 100%;
        padding: 16px;
        border-radius: 18px;
        border: 1px solid rgba(147,177,166,0.14);
        background: rgba(0,0,0,0.34);
        backdrop-filter: blur(10px) saturate(120%);
        -webkit-backdrop-filter: blur(10px) saturate(120%);
        box-shadow: 0 18px 60px rgba(0,0,0,0.42);
      }
      .section-content.mobile-card .grid-2{
        grid-template-columns: 1fr;
        gap: 14px;
      }
      .section-content.mobile-card .kicker{
        flex-wrap: wrap;
        row-gap: 8px;
        font-size: 11px;
      }
      .section-content.mobile-card h2{ margin-bottom: 8px; }
      .section-content.mobile-card p{ font-size: 13.5px; }

      .section-content.mobile-card .cta-row{
        width: 100%;
        justify-content: stretch !important;
      }
      .section-content.mobile-card .cta{
        width: 100%;
        justify-content: center;
      }
    }
    .product h3{
      margin: 0;
      font-family: var(--font-display);
      font-weight: 600;
      font-size: clamp(17px, 2vw, 20px);
      letter-spacing: -0.01em;
      color: var(--text);
    }
    .product p{ 
      color: var(--text-muted); 
      font-size: clamp(13px, 1.5vw, 15px);
      line-height: 1.6;
    }



    /* Reveal animations - smooth fade in */
    [data-reveal]{
      opacity: 1;
      transform: none;
    }
    .js-enhanced [data-reveal]{
      opacity: 0;
      transform: translateY(40px);
      transition: opacity 1s cubic-bezier(0.4, 0, 0.2, 1), 
                  transform 1s cubic-bezier(0.4, 0, 0.2, 1);
      will-change: opacity, transform;
    }
    .js-enhanced [data-reveal].in{
      opacity: 1;
      transform: translateY(0);
    }
    /* Staggered animation for child elements */
    [data-reveal] > *{
      opacity: 1;
      transform: none;
    }
    .js-enhanced [data-reveal] > *{
      opacity: 0;
      transform: translateY(25px);
      transition: opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1),
                  transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .js-enhanced [data-reveal].in > *{
      opacity: 1;
      transform: translateY(0);
    }
    .js-enhanced [data-reveal].in > *:nth-child(1){ transition-delay: 0.15s; }
    .js-enhanced [data-reveal].in > *:nth-child(2){ transition-delay: 0.25s; }
    .js-enhanced [data-reveal].in > *:nth-child(3){ transition-delay: 0.35s; }
    .js-enhanced [data-reveal].in > *:nth-child(4){ transition-delay: 0.45s; }
    .js-enhanced [data-reveal].in > *:nth-child(5){ transition-delay: 0.55s; }
    /* Keep hero readable at first paint */
    .js-enhanced .hero [data-reveal]{
      opacity: 1;
      transform: none;
    }

    /* Site footer */
    .site-footer{
      position: relative;
      z-index: 4;
      width: 100%;
      margin-top: clamp(60px, 8vw, 100px);
      padding: clamp(48px, 6vw, 80px) clamp(20px, 3vw, 40px) clamp(32px, 4vw, 48px);
      background:
        radial-gradient(1400px 600px at 50% 0%, rgba(6,182,212,0.08), rgba(10,14,39,0.95) 70%),
        linear-gradient(to bottom, rgba(17,24,39,0.9), rgba(10,14,39,0.98));
      border-top: 1px solid var(--glass-border);
      box-shadow: 0 -20px 60px rgba(0,0,0,0.5), 0 0 100px rgba(6,182,212,0.1);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
    .footer-inner{
      width: min(1400px, 100%);
      margin: 0 auto;
    }
    .footer-topline{
      height: 2px;
      background: linear-gradient(90deg, transparent, var(--accent) 20%, var(--accent-secondary) 50%, var(--accent) 80%, transparent);
      opacity: 0.4;
      margin-bottom: 40px;
      border-radius: 2px;
    }
    .footer-grid{
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: clamp(24px, 3vw, 40px);
      align-items: start;
    }
    .footer-col{ min-width: 0; }
    .footer-title{
      margin: 0 0 16px;
      font-family: var(--font-display);
      font-weight: 700;
      font-size: clamp(18px, 2vw, 22px);
      letter-spacing: -0.01em;
      color: var(--text);
      text-shadow: var(--text-shadow);
    }
    .footer-h{
      margin: 0 0 12px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      font-size: clamp(11px, 1.2vw, 13px);
      color: var(--text-secondary);
    }
    .footer-text{
      margin: 0;
      color: var(--text-muted);
      font-size: clamp(13px, 1.4vw, 15px);
      line-height: 1.7;
    }
    .footer-meta{ margin-top: 8px; }
    .footer-links{
      display: flex;
      flex-direction: column;
      gap: 12px;
      margin-top: 4px;
    }
    .footer-link{
      display: inline-flex;
      align-items: center;
      gap: 10px;
      color: var(--text-secondary);
      font-size: clamp(13px, 1.4vw, 15px);
      text-decoration: none;
      padding: 8px 0;
      border-radius: var(--radius-sm);
      transition: var(--transition);
    }
    .footer-link:hover{ 
      color: var(--accent); 
      transform: translateX(4px);
    }
    .footer-link:focus-visible{ 
      outline: 2px solid var(--accent); 
      outline-offset: 4px;
    }
    .footer-link small{ color: var(--text-muted); }

    .footer-bottom{
      margin-top: 40px;
      padding-top: 24px;
      border-top: 1px solid var(--glass-border);
      display: flex;
      gap: 16px;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      color: var(--text-muted);
      font-size: clamp(12px, 1.3vw, 14px);
    }
    .footer-bottom a{ 
      color: var(--text-secondary);
      transition: color 0.3s ease;
    }
    .footer-bottom a:hover{ color: var(--accent); }



    .panel{
      width: min(980px, 100%);
      border: 1px solid var(--line);
      background: linear-gradient(135deg, var(--glassA), var(--glassB)); /* more transparent */
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow: hidden;
      color: var(--text);
      text-shadow: var(--text-shadow);
    }

    .panel-inner{
      display: grid;
      grid-template-columns: 1.3fr 0.7fr;
      gap: 18px;
      padding: clamp(18px, 3vw, 34px);
      align-items: center;
    }

    @media (max-width: 860px){
      .panel-inner{ grid-template-columns: 1fr; }
    }

    .brand{
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .kicker{
      display: inline-flex;
      gap: 10px;
      align-items: center;
      font-size: 12.5px;
      letter-spacing: 0.22em;
      text-transform: uppercase;
      font-weight: 800;
      color: var(--accent);
      text-shadow: 0 0 20px rgba(6,182,212,0.6), 0 2px 8px rgba(0,0,0,0.8);
    }
    .dot{
      width: 8px; height: 8px; border-radius: 50%;
      background: var(--accent);
      box-shadow: 0 0 16px var(--glow), 0 0 28px rgba(6,182,212,0.4);
      animation: dotPulse 2.5s ease-in-out infinite;
    }
    @keyframes dotPulse{
      0%, 100%{ opacity: 1; transform: scale(1); box-shadow: 0 0 16px var(--glow), 0 0 28px rgba(6,182,212,0.4); }
      50%{ opacity: 0.8; transform: scale(1.15); box-shadow: 0 0 24px var(--glow), 0 0 40px rgba(6,182,212,0.6); }
    }

    h1{
      margin: 0;
      font-size: clamp(34px, 4.4vw, 54px);
      line-height: 1.02;
      letter-spacing: -0.02em;
    }

    .sub{
      margin: 0;
      font-size: clamp(14px, 1.6vw, 16px);
      color: var(--muted);
      line-height: 1.55;
      max-width: 58ch;
    }

    /* Buttons */
    .actions{
      display: flex;
      flex-direction: column;
      gap: 12px;
      align-items: stretch;
    }

    .btn{
      position: relative;
      display: inline-flex;
      justify-content: space-between;
      align-items: center;
      padding: 14px 16px;
      border-radius: 16px;
      border: 1px solid rgba(147,177,166,0.20);
      background: linear-gradient(135deg, rgba(255,255,255,0.09), rgba(255,255,255,0.04));
      box-shadow: 0 18px 50px rgba(0,0,0,0.35);
      cursor: pointer;
      user-select: none;
      transition: transform .18s ease, border-color .18s ease, background .18s ease;
      color: var(--text);
    }
    .btn:hover{
      transform: translateY(-2px);
      border-color: rgba(147,177,166,0.40);
      background: linear-gradient(135deg, rgba(255,255,255,0.14), rgba(255,255,255,0.06));
    }
    .btn:active{ transform: translateY(0px) scale(0.99); }
    .btn:focus-visible{
      outline: none;
      box-shadow: 0 0 0 3px rgba(147,177,166,0.20), 0 18px 50px rgba(0,0,0,0.35);
    }

    .btn .label{
      display: flex;
      flex-direction: column;
      gap: 2px;
      text-align: left;
    }
    .btn .title{
      font-weight: 650;
      letter-spacing: 0.01em;
      color: var(--text);
      text-shadow: 0 2px 12px rgba(0,0,0,0.70);
    }
    .btn .hint{
      font-size: 12px;
      color: var(--dim);
      text-shadow: 0 2px 12px rgba(0,0,0,0.70);
    }

    .arrow{
      width: 34px; height: 34px;
      border-radius: 12px;
      border: 1px solid rgba(147,177,166,0.18);
      display: grid;
      place-items: center;
      background: rgba(0,0,0,0.16);
    }
    .arrow svg{ opacity: 0.9; }

    /* Footer strip */
    .strip{
      display: flex;
      justify-content: space-between;
      gap: 12px;
      padding: 14px 18px;
      border-top: 1px solid rgba(147,177,166,0.12);
      color: var(--muted);
      font-size: 12px;
    }
    .strip span{ white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

    /* Age gate overlay */
    .overlay{
      position: fixed; inset: 0;
      z-index: 10;
      display: grid;
      place-items: center;
      background:
        radial-gradient(900px 600px at 50% 40%, rgba(147,177,166,0.16), rgba(0,0,0,0.38) 70%),
        linear-gradient(to bottom, rgba(0,0,0,0.24), rgba(0,0,0,0.36));
      padding: 24px;
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
      transition: opacity .28s ease, visibility .28s ease;
    }
    .overlay.show{
      opacity: 1;
      visibility: visible;
      pointer-events: auto;
    }

    .age-card{
      width: min(800px, calc(100% - 32px));
      max-width: 95%;
      border-radius: clamp(20px, 3vw, 32px);
      border: 1px solid rgba(6,182,212,0.2);
      background:
        radial-gradient(circle at 50% 0%, rgba(6,182,212,0.15) 0%, transparent 50%),
        radial-gradient(circle at 0% 100%, rgba(139,92,246,0.12) 0%, transparent 50%),
        radial-gradient(circle at 100% 100%, rgba(59,130,246,0.10) 0%, transparent 50%),
        linear-gradient(135deg, rgba(26,31,58,0.95), rgba(17,24,39,0.98));
      backdrop-filter: blur(30px) saturate(180%);
      -webkit-backdrop-filter: blur(30px) saturate(180%);
      box-shadow:
        0 50px 120px rgba(0,0,0,0.85),
        0 0 80px rgba(6,182,212,0.08),
        inset 0 1px 0 rgba(255,255,255,0.08),
        inset 0 -1px 0 rgba(6,182,212,0.05);
      padding: clamp(24px, 4vw, 48px) clamp(20px, 4vw, 40px);
      transform: translateY(20px) scale(0.97);
      opacity: 0;
      transform-style: preserve-3d;
      will-change: transform, opacity;
      position: relative;
      overflow: hidden;
      text-align: center;
      animation: pulseGlowAge 6s ease-in-out infinite;
    }
    .overlay.show .age-card{
      transform: translateY(0px) scale(1);
      opacity: 1;
      transition: transform .38s ease, opacity .38s ease;
    }

    .age-card::before{
      content: "";
      position: absolute;
      inset: -2px;
      border-radius: inherit;
      background: linear-gradient(
        135deg,
        rgba(6,182,212,0.4) 0%,
        rgba(139,92,246,0.3) 50%,
        rgba(59,130,246,0.4) 100%
      );
      background-size: 200% 200%;
      animation: gradientShift 8s ease infinite;
      opacity: 0;
      transition: opacity 0.4s ease;
      z-index: -1;
      pointer-events: none;
    }
    .overlay.show .age-card::before{
      opacity: 1;
    }
    .age-card::after{
      content: "";
      position: absolute;
      inset: 0;
      border-radius: inherit;
      padding: 2px;
      background: linear-gradient(
        135deg,
        rgba(6,182,212,0.5),
        rgba(139,92,246,0.4),
        rgba(59,130,246,0.5)
      );
      background-size: 200% 200%;
      animation: gradientShift 10s ease infinite;
      -webkit-mask:
        linear-gradient(#fff 0 0) content-box,
        linear-gradient(#fff 0 0);
      mask:
        linear-gradient(#fff 0 0) content-box,
        linear-gradient(#fff 0 0);
      -webkit-mask-composite: xor;
      mask-composite: exclude;
      pointer-events: none;
      z-index: 1;
    }
    
    @keyframes pulseGlowAge {
      0%, 100% {
        box-shadow:
          0 50px 120px rgba(0,0,0,0.85),
          0 0 80px rgba(6,182,212,0.08),
          inset 0 1px 0 rgba(255,255,255,0.08),
          inset 0 -1px 0 rgba(6,182,212,0.05);
      }
      50% {
        box-shadow:
          0 50px 120px rgba(0,0,0,0.85),
          0 0 100px rgba(6,182,212,0.15),
          0 0 60px rgba(139,92,246,0.1),
          inset 0 1px 0 rgba(255,255,255,0.12),
          inset 0 -1px 0 rgba(6,182,212,0.08);
      }
    }

    .age-topline{
      font-size: clamp(10px, 1.8vw, 13px);
      letter-spacing: 0.16em;
      text-transform: uppercase;
      background: linear-gradient(135deg, rgba(6,182,212,0.9), rgba(139,92,246,0.8));
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      margin: 0 0 clamp(8px, 2vw, 16px);
      font-weight: 600;
      line-height: 1.4;
    }
    .age-topline + .age-topline{ margin-top: -4px; }
    .age-title{
      margin: clamp(12px, 2vw, 20px) 0 0;
      font-size: clamp(26px, 5vw, 48px);
      line-height: 1.15;
      letter-spacing: -0.02em;
      background: linear-gradient(135deg, #fff 0%, rgba(6,182,212,0.95) 100%);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: none;
      font-weight: 700;
      position: relative;
    }
    .age-title::after{
      content: attr(data-text);
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, #fff 0%, rgba(6,182,212,0.95) 100%);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      filter: blur(20px);
      opacity: 0.5;
      z-index: -1;
    }
    .age-sub{
      margin: clamp(12px, 2vw, 20px) auto 0;
      color: rgba(255,255,255,0.75);
      line-height: 1.65;
      max-width: 65ch;
      font-size: clamp(14px, 2vw, 17px);
      font-weight: 400;
    }

    .age-actions{
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(min(200px, 100%), 1fr));
      gap: clamp(12px, 2vw, 16px);
      margin-top: clamp(24px, 4vw, 36px);
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }

    .age-btn{
      position: relative;
      border-radius: clamp(12px, 2vw, 16px);
      padding: clamp(14px, 2.5vw, 18px) clamp(20px, 3vw, 32px);
      border: 1px solid rgba(6,182,212,0.3);
      cursor: pointer;
      user-select: none;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      min-height: clamp(48px, 8vw, 56px);
      font-weight: 600;
      letter-spacing: 0.02em;
      font-size: clamp(14px, 2vw, 16px);
      text-shadow: 0 2px 20px rgba(0,0,0,0.5);
      transform-style: preserve-3d;
      box-shadow:
        0 20px 50px rgba(0,0,0,0.4),
        0 0 0 1px rgba(6,182,212,0.2),
        inset 0 1px 0 rgba(255,255,255,0.08);
      overflow: hidden;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
    .age-btn::before{
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 50% 0%, rgba(255,255,255,0.15), transparent 70%);
      opacity: 0.6;
      pointer-events: none;
      z-index: 1;
    }
    .age-btn::after{
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 50% 100%, rgba(6,182,212,0.4), transparent 70%);
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
      z-index: 0;
    }
    .age-btn:hover{
      transform: translateY(-3px) scale(1.02);
      border-color: rgba(6,182,212,0.5);
      box-shadow:
        0 25px 60px rgba(0,0,0,0.5),
        0 0 40px rgba(6,182,212,0.3),
        0 0 0 1px rgba(6,182,212,0.3),
        inset 0 1px 0 rgba(255,255,255,0.12);
    }
    .age-btn:hover::after{ opacity: 1; }
    .age-btn:active{ 
      transform: translateY(-1px) scale(0.98);
      transition: all 0.1s ease;
    }
    .age-btn:focus-visible{ 
      outline: none;
      box-shadow: 
        0 20px 50px rgba(0,0,0,0.4),
        0 0 0 3px rgba(6,182,212,0.4);
    }
    .age-btn:disabled{
      opacity: 0.4;
      cursor: not-allowed;
      filter: grayscale(0.3) saturate(0.5);
      transform: none;
    }
    .age-btn > *{
      position: relative;
      z-index: 2;
    }

    .age-btn.primary{
      background: linear-gradient(135deg, rgba(6,182,212,0.9), rgba(59,130,246,0.85));
      border-color: rgba(6,182,212,0.4);
      color: #ffffff;
    }
    .age-btn.primary:hover{
      background: linear-gradient(135deg, rgba(6,182,212,1), rgba(59,130,246,0.95));
      box-shadow:
        0 25px 60px rgba(6,182,212,0.4),
        0 0 60px rgba(6,182,212,0.4),
        0 0 0 1px rgba(6,182,212,0.5),
        inset 0 1px 0 rgba(255,255,255,0.15);
    }
    .age-btn.secondary{
      background: linear-gradient(135deg, rgba(139,92,246,0.25), rgba(59,130,246,0.2));
      border-color: rgba(139,92,246,0.3);
      color: rgba(255,255,255,0.95);
    }
    .age-btn.secondary:hover{
      background: linear-gradient(135deg, rgba(139,92,246,0.35), rgba(59,130,246,0.3));
      border-color: rgba(139,92,246,0.5);
      box-shadow:
        0 25px 60px rgba(139,92,246,0.3),
        0 0 40px rgba(139,92,246,0.25),
        0 0 0 1px rgba(139,92,246,0.4),
        inset 0 1px 0 rgba(255,255,255,0.12);
    }

    .age-legal{
      margin: clamp(20px, 3vw, 32px) auto 0;
      color: rgba(255,255,255,0.6);
      font-size: clamp(11px, 1.5vw, 13px);
      line-height: 1.6;
      text-align: center;
      max-width: 80ch;
      padding: 0 clamp(8px, 2vw, 16px);
    }

    .age-note{
      margin: clamp(12px, 2vw, 16px) auto 0;
      font-size: clamp(11px, 1.5vw, 13px);
      color: rgba(6,182,212,0.7);
      text-align: center;
      max-width: 70ch;
      padding: 0 clamp(8px, 2vw, 16px);
      font-weight: 500;
    }

    .age-locked{
      display: none;
      margin-top: clamp(16px, 2.5vw, 20px);
      padding: clamp(14px, 2.5vw, 18px) clamp(16px, 3vw, 24px);
      border-radius: clamp(12px, 2vw, 16px);
      border: 1px solid rgba(139,92,246,0.3);
      background: linear-gradient(135deg, rgba(139,92,246,0.15), rgba(59,130,246,0.1));
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      color: #ffffff;
      text-align: center;
      font-weight: 500;
      font-size: clamp(14px, 2vw, 16px);
      box-shadow:
        0 10px 30px rgba(0,0,0,0.3),
        inset 0 1px 0 rgba(255,255,255,0.05);
    }
        @media (max-width: 900px){
          .age-card{ 
            padding: clamp(20px, 5vw, 32px) clamp(16px, 4vw, 24px);
            border-radius: 24px;
          }
          .age-title{ font-size: clamp(24px, 6vw, 40px); }
          .age-actions{ gap: 14px; }
        }

        @media (max-width: 640px){
          .age-card{
            width: calc(100% - 24px);
            padding: 24px 20px;
            border-radius: 20px;
          }
          .age-actions{ 
            grid-template-columns: 1fr;
            gap: 12px;
          }
          .age-btn{ 
            padding: 16px 24px;
            min-height: 52px;
          }
          .age-topline{ 
            font-size: 11px;
            letter-spacing: 0.12em;
          }
          .age-title{
            font-size: clamp(22px, 7vw, 32px);
            margin-top: 12px;
          }
          .age-sub{
            font-size: 15px;
            margin-top: 14px;
          }
        }
        
        @media (max-width: 480px){
          .age-card{
            width: calc(100% - 16px);
            padding: 20px 16px;
            border-radius: 16px;
          }
          .age-topline{
            font-size: 10px;
          }
          .age-title{
            font-size: 24px;
          }
          .age-sub{
            font-size: 14px;
          }
          .age-btn{
            padding: 14px 20px;
            font-size: 15px;
          }
          .age-legal,
          .age-note{
            font-size: 11px;
          }
        }
    .age-card.locked .age-actions{ grid-template-columns: 1fr; }
    .age-card.locked .age-locked{ display: block; }

    .card{
      width: min(560px, 100%);
      border-radius: 20px;
      border: 1px solid rgba(147,177,166,0.18);
      background: linear-gradient(135deg, rgba(255,255,255,0.11), rgba(255,255,255,0.05));
      backdrop-filter: blur(14px);
      box-shadow: 0 30px 80px rgba(0,0,0,0.60);
      padding: 22px;
    }
    .card h2{ margin: 0 0 6px; font-size: 20px; }
    .card p{ margin: 0 0 16px; color: var(--muted); line-height: 1.5; }

    .row{
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }
    .mini{
      flex: 1;
      border-radius: 14px;
      padding: 12px 14px;
      border: 1px solid rgba(147,177,166,0.18);
      background: rgba(0,0,0,0.20);
      cursor: pointer;
      transition: transform .18s ease, border-color .18s ease;
      color: rgba(255,255,255,0.92);
    }
    .mini:hover{
      transform: translateY(-1px);
      border-color: rgba(147,177,166,0.32);
    }

    /* Contact modal */
    .modal{
      position: fixed; inset: 0;
      z-index: 20;
      display: none;
      place-items: center;
      background: rgba(0,0,0,0.68);
      padding: 22px;
    }
    .modal.show{ display: grid; }
    .modal .card{ max-width: 680px; }
    .close{
      margin-left: auto;
      width: 38px; height: 38px;
      border-radius: 12px;
      border: 1px solid rgba(147,177,166,0.18);
      background: rgba(0,0,0,0.25);
      cursor: pointer;
      display: grid;
      place-items: center;
      color: rgba(255,255,255,0.92);
    }

    @media (max-width: 520px){
      .content > *:not(.hero){ 
        padding-left: 20px; 
        padding-right: 20px; 
      }
      .section-content{
        padding: 0 12px;
      }
      .topnav{ padding: 14px 18px; }
      .nav-actions{ gap: 10px; }
      .nav-link{ 
        width: auto; 
        font-size: 11px;
        padding: 10px 16px;
      }
      .age-actions{ grid-template-columns: 1fr; }
      .age-btn{ min-height: 50px; font-size: 15px; }
      .age-topline{ letter-spacing: 0.14em; }
      .age-legal{ font-size: 11.5px; }
      .hero{ padding: 22px 18px; }
      .stats{ grid-template-columns: repeat(2, 1fr); gap: 12px; }
      .product-grid{ grid-template-columns: 1fr; }
      .section h2{ font-size: 24px; }
    }

    @media (max-width: 900px){
      .grid-2{ grid-template-columns: 1fr; gap: 24px; }
      .stats{ grid-template-columns: repeat(2, 1fr); }
      .product-grid{ grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); }
      .info-rail{ grid-template-columns: 1fr; }
      .info-rail .slot{ text-align: left !important; }
      .video-caption{ flex-direction: column; align-items: flex-start; }
      .footer-grid{ grid-template-columns: repeat(2, 1fr); }
      .section h2{ font-size: 32px; }
    }

    @media (prefers-reduced-motion: reduce){
      *,
      *::before,
      *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
      }
      html{
        scroll-behavior: auto;
      }
      .wrap::before,
      .section:first-child::before,
      .dot{
        animation: none !important;
      }
      .nav-link, .mini, .cta, .stat, .product, .video-card{ transition: none !important; }
      .overlay, .age-card, .age-btn{ transition: none !important; }
      #fx{ display:none; }
      .bg-video{ filter:none; transform:none; opacity: var(--video-opacity); }
    }
  </style>
</head>

<body>
  <script>
    // Cinematic first view: hide nav/footer until user scrolls
    document.documentElement.classList.add('js');
    document.body.classList.add('at-top');
  </script>
  <div class="wrap" id="wrap">
    <header class="topnav" aria-label="Top navigation">
      <div class="nav-inner">
        <div class="nav-actions" role="navigation" aria-label="Primary links">
          <button class="nav-link" id="btnShop" type="button"> Shop Here</button>
          <button class="nav-link" id="btnContact" type="button">Contact</button>
          <button class="nav-link" id="btnDutchie" type="button">Admin Control</button>
        </div>
      </div>
    </header>

    <main class="content">
      <section class="hero" aria-label="Hero">
        <div class="hero-bg" aria-hidden="true">
          <video class="bg-video" autoplay muted loop playsinline preload="metadata" poster="assets/poster.jpg.jpeg" aria-hidden="true">
            <source src="assets/hero.mp4" type="video/mp4" />
          </video>
          <div class="glass-bg" aria-hidden="true"></div>
          <div class="vignette" aria-hidden="true"></div>
          <canvas id="fx" aria-hidden="true"></canvas>
        </div>
        <div class="brand">
          <div class="kicker"><span class="dot"></span> LEGAL â€¢ PREMIUM â€¢ FAST â€¢ LOCAL</div>
          <h1 class="hero-title">
           BIG CITY FLAVORS
          </h1>
          <div class="hero-brand">Legal Cannabies
            <span class="break">is here</span>
          </div>
          <p class="hero-tagline">
            We are now open â€” doors open at 11AM. Order online and pick up today.
          </p>

          <div class="info-rail" aria-label="Key info">
            <div class="slot left">
              <div class="label">Hours</div>
              <div class="value">Doors open at 11AM</div>
            </div>
            <div class="slot center">
              <div class="label">Order</div>
              <div class="value">Order online & pick up today</div>
            </div>
            <div class="slot right">
              <div class="label">Location</div>
              <div class="value">
                111-19 Liberty Av<br/>
                <small>South Richmond Hill, NY 11419</small>
              </div>
            </div>
          </div>

          <div class="cta-row">
            <button class="cta primary" type="button" id="ctaShop">Shop Here</button>
            <button class="cta" type="button" id="ctaOrder">ORDER AHEAD OF TIME</button>
          </div>
        </div>
      </section>

      <div class="sections" aria-label="Main content">
        <section class="section" aria-label="Stats" id="stats">
          <div class="section-row align-center" data-reveal>
            <div class="section-content">
              <div class="glass" data-tilt>
                <p class="kicker" style="margin:0 0 10px;"><span class="dot"></span> QUICK STATS</p>
                <h2>Big City by the numbers</h2>
                <div class="stats" aria-label="Stats" data-reveal>
                  <div class="stat" style="--i:0" data-reveal>
                    <div class="num">689</div>
                    <div class="lbl">Products</div>
                  </div>
                  <div class="stat" style="--i:1" data-reveal>
                    <div class="num">2,773,100,888</div>
                    <div class="lbl">Happy Clients</div>
                  </div>
                  <div class="stat" style="--i:2" data-reveal>
                    <div class="num">82,150,044</div>
                    <div class="lbl">VIP Members</div>
                  </div>
                  <div class="stat" style="--i:3" data-reveal>
                    <div class="num">NYC</div>
                    <div class="lbl">Location</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section class="video-feature" aria-label="Featured video" id="feature" data-reveal>
          <div class="section-row align-center">
            <div class="section-content">
              <div class="video-card" data-tilt>
                <video class="promo-video" autoplay muted loop playsinline preload="metadata" >
                  <source src="assets/products.mp4" type="video/mp4" />
                </video>
                <div class="video-caption">
                  <div>
                    <div class="title">Premium products â€¢ NYC energy</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section class="section" aria-label="Products" id="products">
          <div class="section-row align-center" data-reveal>
            <div class="section-content">
              <div class="glass" data-tilt>
                <p class="kicker" style="margin:0 0 10px;"><span class="dot"></span> OUR PRODUCTS</p>
                <h2>LEGAL DISPENSARY</h2>
                <div class="product-grid">
                  <div class="product">
                    <h3>FLOWER</h3>
                    <p>BEST QUALITY FLOWER FROM THE BEST GROWERS IN NYC</p>
                    <div style="margin-top:auto;">
                      <button class="cta" type="button" id="ctaFlower">View More</button>
                    </div>
                  </div>
                  <div class="product">
                    <h3>OILS</h3>
                    <p>NO ADITIVES 100% NATURAL</p>
                    <div style="margin-top:auto;">
                      <button class="cta" type="button" id="ctaOils">View More</button>
                    </div>
                  </div>
                  <div class="product">
                    <h3>EDIBLES</h3>
                    <p>MADE FROM PREMIUM FLOWER</p>
                    <div style="margin-top:auto;">
                      <button class="cta" type="button" id="ctaEdibles">View More</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section class="section" aria-label="About" id="about">
          <div class="section-row align-center" data-reveal>
            <div class="section-content">
              <div class="glass" data-tilt>
                <div class="grid-2">
                  <div>
                    <p class="kicker" style="margin:0 0 10px;"><span class="dot"></span> CANNABIS IN THE CITY</p>
                    <h2 style="font-size: clamp(24px, 3.5vw, 38px);">BIG CITY FLAVORS</h2>
                    <p>
                      We carry premium cannabis products from local NYC farms. Every product is tested and compliant with regulations to help ensure a clean and safe experience.
                    </p>
                  </div>
                  <div>
                    <p class="kicker" style="margin:0 0 10px;"><span class="dot"></span> NYC LOCATION</p>
                    <p style="color: rgba(255,255,255,0.92); font-weight: 750; letter-spacing: -0.01em;">
                      111-19 liberty av, south Richmond hill,ny 11419
                    </p>
                    <p style="margin-top:10px;">ocm-caurd-25-000263</p>
                    <div class="cta-row" style="margin-top:14px;">
                      <button class="cta" type="button" id="ctaContact">Get Started</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section class="section" aria-label="Order" id="order">
          <div class="section-row align-center" data-reveal>
            <div class="section-content">
              <div class="glass" data-tilt>
                <p class="kicker" style="margin:0 0 16px;"><span class="dot"></span> MAKE SURE WE HAVE WHAT YOU NEED</p>
                <h2 style="font-size: clamp(32px, 5vw, 56px); margin-bottom: 20px;">ORDER AHEAD OF TIME</h2>
                <p style="margin-top: 20px; font-size: clamp(16px, 2vw, 20px); color: var(--text); font-weight: 500; letter-spacing: 0.02em;">ORDER ONLINE AND PICK UP TODAY</p>
                <div class="cta-row" style="margin-top:32px;">
                  <button class="cta primary" type="button" id="ctaOrderHere" style="padding: 16px 40px; font-size: clamp(15px, 1.8vw, 18px); box-shadow: 0 8px 32px rgba(6,182,212,0.4), 0 0 60px rgba(139,92,246,0.3);">ORDER HERE</button>
                </div>
              </div>
            </div>
          </div>
        </section>

      </div>
    </main>

    <footer class="site-footer" aria-label="Footer" data-reveal>
      <div class="footer-inner">
        <div class="footer-topline" aria-hidden="true"></div>

        <div class="footer-grid">
          <div class="footer-col">
            <div class="footer-title">Big city flavors</div>
            <p class="footer-text">ocm-caurd-25-000263</p>
            <p class="footer-text footer-meta">111-19 liberty av, south Richmond hill,ny 11419</p>
            <div class="footer-links" style="margin-top:14px;">
              <a class="footer-link" href="#" onclick="document.getElementById('about')?.scrollIntoView({behavior:'smooth',block:'start'}); return false;">OCM regulations</a>
            </div>
          </div>

          <div class="footer-col">
            <div class="footer-h">Job Links</div>
            <div class="footer-links">
              <a class="footer-link" href="#" onclick="document.getElementById('contactModal')?.classList.add('show'); return false;">SOCIAL MEDIA</a>
            </div>
          </div>

          <div class="footer-col">
            <div class="footer-h">New York State HOPEline</div>
            <div class="footer-links">
              <a class="footer-link" href="tel:+18778467369">Call: <small>1-877-846-7369</small></a>
              <a class="footer-link" href="sms:467369?&body=HOPENY">Text: <small>Text â€œHOPENYâ€ to 467369</small></a>
              <a class="footer-link" href="https://oasas.ny.gov/HOPEline" target="_blank" rel="noreferrer">website <small>oasas.ny.gov/HOPEline</small></a>
            </div>
          </div>

          <div class="footer-col">
            <div class="footer-h">Join Our Mailing</div>
            <p class="footer-text">Get updates, drops, and store news.</p>
            <div class="footer-links" style="margin-top:10px;">
              <a class="footer-link" href="mailto:BIGCITYFLAVORS@GMAIL.COM?subject=Join%20Mailing%20List">Email us to join</a>
            </div>
          </div>

          <div class="footer-col">
            <div class="footer-h">YouTube Channel</div>
            <p class="footer-text">Videos and updates coming soon.</p>
            <div class="footer-links" style="margin-top:10px;">
              <a class="footer-link" href="https://www.youtube.com" target="_blank" rel="noreferrer">Open YouTube</a>
            </div>
          </div>

          <div class="footer-col">
            <div class="footer-h">Customer Support</div>
            <div class="footer-links">
              <a class="footer-link" href="mailto:BIGCITYFLAVORS@GMAIL.COM">BIGCITYFLAVORS@GMAIL.COM</a>
              <a class="footer-link" href="#" onclick="alert('Privacy Policy: add your policy link here.'); return false;">Privacy Policy</a>
              <a class="footer-link" href="https://bigcityflavors.com/?page_id=70" target="_blank" rel="noreferrer">DUTCHIE SYSTEMS AND MORE</a>
            </div>
          </div>
        </div>

        <div class="footer-bottom">
          <span>Â© <span id="year"></span> Big City Flavors</span>
          <span>
            <a href="#" onclick="window.scrollTo({top:0,behavior:'smooth'}); return false;">Back to top</a>
          </span>
        </div>
      </div>
    </footer>

    <div class="overlay" id="ageGate" role="dialog" aria-modal="true" aria-label="Age Verification">
      <div class="age-card" id="ageCard">
        <p class="age-topline">ORDER ONLINE AND PICK UP TODAY</p>
        <p class="age-topline">AT 111-19 liberty av, south Richmond hill,ny 11419</p>
        <h2 class="age-title">Please verify your age to enter.</h2>
        <p class="age-sub">This website contains cannabis-related content. You must be 21 or older to access this site.</p>

        <div class="age-actions" id="ageActions">
          <button class="age-btn primary" id="ageYes" type="button">I Am 21 Or Older</button>
          <button class="age-btn secondary" id="ageNo" type="button">I Am Under 21</button>
        </div>

        <div class="age-locked" id="ageLocked" aria-live="polite">
          Access denied. You must be 21+ to enter this website.
        </div>

        <p class="age-legal">
          Keep all marijuana and marijuana products out of reach of children and animals. Intoxicating effects may be delayed up to two (2) hours.
          Use of marijuana while pregnant or breastfeeding may be harmful.
        </p>
        <p class="age-note">By entering, you confirm you are of legal age in your jurisdiction.</p>
      </div>
    </div>

    <div class="modal" id="contactModal" role="dialog" aria-modal="true" aria-label="Contact">
      <div class="card">
        <div style="display:flex; gap:12px; align-items:center;">
          <h2 style="margin:0;">Contact</h2>
          <button class="close" id="closeContact" aria-label="Close contact modal" type="button">âœ•</button>
        </div>
        <p style="margin-top:10px;">
          Email:
          <a href="mailto:BIGCITYFLAVORS@GMAIL.COM" style="text-decoration:underline;">BIGCITYFLAVORS@GMAIL.COM</a>
          <br/>Phone: <span style="color: var(--muted);">(add your number)</span>
          <br/>Address: <span style="color: var(--muted);">(add your address)</span>
        </p>
        <p style="margin:0; color: var(--dim); font-size:12px;">Tip: You can replace this modal with a direct contact page anytime.</p>
      </div>
    </div>
  </div>

  <script
  src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"
  integrity="sha512-7eHRwcbYkK4d9g/6tD/mhkf++eoTHwpNM9woBxtPUBWm67zeAfFC+HrdoE2GanKeocly/VxeLvIqwvCdk7qScg=="
  crossorigin="anonymous">
</script>

  <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>

  <script>
    document.documentElement.classList.add("js-enhanced");
    // ====== LINKS ======
    const URL_SHOP    = "https://bigcityflavors.com/?page_id=315";
    const URL_DUTCHIE = "https://bigcityflavors.com/?page_id=70";

    const prefersReducedMotion = window.matchMedia("(prefers-reduced-motion: reduce)").matches;

    const setAtTop = () => {
      const atTop = (window.scrollY || document.documentElement.scrollTop || 0) < 10;
      document.body.classList.toggle("at-top", atTop);
    };
    setAtTop();
    window.addEventListener("scroll", setAtTop, { passive: true });

    // ====== UI ======
    const btnShop = document.getElementById("btnShop");
    const btnDutchie = document.getElementById("btnDutchie");
    const btnContact = document.getElementById("btnContact");
    const contactModal = document.getElementById("contactModal");
    const closeContact = document.getElementById("closeContact");
    document.getElementById("year").textContent = String(new Date().getFullYear());

    const ctaShop = document.getElementById("ctaShop");
    const ctaOrder = document.getElementById("ctaOrder");
    const ctaOrderHere = document.getElementById("ctaOrderHere");
    const ctaContact = document.getElementById("ctaContact");

    btnShop.addEventListener("click", () => window.location.href = URL_SHOP);
    btnDutchie.addEventListener("click", () => window.location.href = URL_DUTCHIE);

    btnContact.addEventListener("click", () => contactModal.classList.add("show"));
    closeContact.addEventListener("click", () => contactModal.classList.remove("show"));
    contactModal.addEventListener("click", (e) => { if (e.target === contactModal) contactModal.classList.remove("show"); });

    if (ctaShop) ctaShop.addEventListener("click", () => window.location.href = URL_SHOP);
    if (ctaOrderHere) ctaOrderHere.addEventListener("click", () => window.location.href = URL_SHOP);
    if (ctaOrder) ctaOrder.addEventListener("click", () => {
      document.getElementById("order")?.scrollIntoView({ behavior: prefersReducedMotion ? "auto" : "smooth", block: "start" });
    });
    if (ctaContact) ctaContact.addEventListener("click", () => contactModal.classList.add("show"));

    // ====== AGE GATE ======
    const ageGate = document.getElementById("ageGate");
    const ageCard = document.getElementById("ageCard");
    const ageYesBtn = document.getElementById("ageYes");
    const ageNoBtn = document.getElementById("ageNo");

    const setGateOpen = (open) => {
      ageGate.classList.toggle("show", open);
      // Keep the page scrollable; the overlay already blocks interaction.
      document.body.style.overflow = "";

      if (!prefersReducedMotion && typeof gsap !== "undefined") {
        if (open) {
          gsap.fromTo("#ageCard", { y: 18, opacity: 0 }, { y: 0, opacity: 1, duration: 0.45, ease: "power2.out" });
        } else {
          gsap.to("#ageCard", { y: 10, opacity: 0, duration: 0.22, ease: "power2.in" });
        }
      }
    };

    const setLocked = (locked) => {
      ageCard.classList.toggle("locked", locked);
      ageYesBtn.disabled = locked;
      ageYesBtn.style.display = locked ? "none" : "";
      ageNoBtn.textContent = locked ? "Exit Site" : "I Am Under 21";
      ageNoBtn.classList.toggle("secondary", !locked);
      ageNoBtn.classList.toggle("primary", locked);
    };

    // ====== AGE GATE PERSISTENCE ======

// Check localStorage for confirmed age
const ageYesStored = localStorage.getItem("ageVerified") === "true";

// Show the gate if user has NOT confirmed
if (!ageYesStored) {
  setGateOpen(true);
  setLocked(false);
} else {
  setGateOpen(false);
}

ageYesBtn.addEventListener("click", () => {
  localStorage.setItem("ageVerified", "true");
  setLocked(false);
  setGateOpen(false);
});


    ageYesBtn.addEventListener("click", () => {
      setLocked(false);
      setGateOpen(false);
      gsap.fromTo(".hero", { y: 14, opacity: 0 }, { y: 0, opacity: 1, duration: 0.7, ease: "power2.out" });
    });

    ageNoBtn.addEventListener("click", () => {
      const isLocked = ageCard.classList.contains("locked");
      if (!isLocked) {
        setLocked(true);
        if (!prefersReducedMotion && typeof gsap !== "undefined") {
          gsap.fromTo("#ageLocked", { opacity: 0 }, { opacity: 1, duration: 0.35, ease: "power2.out" });
        }
        return;
      }
      window.location.href = "https://www.google.com";
    });

    // Subtle 3D tilt on the age card
    if (!prefersReducedMotion) {
      const maxTilt = 7; // degrees
      const resetTilt = () => {
        ageCard.style.transform = "translateY(0px) scale(1) rotateX(0deg) rotateY(0deg)";
      };
      const onMove = (e) => {
        const r = ageCard.getBoundingClientRect();
        const px = (e.clientX - r.left) / r.width; // 0..1
        const py = (e.clientY - r.top) / r.height; // 0..1
        const rx = (0.5 - py) * (maxTilt * 2);
        const ry = (px - 0.5) * (maxTilt * 2);
        ageCard.style.transform = `translateY(0px) scale(1) rotateX(${rx.toFixed(2)}deg) rotateY(${ry.toFixed(2)}deg)`;
      };
      ageCard.addEventListener("pointermove", onMove);
      ageCard.addEventListener("pointerleave", resetTilt);
    }

    // Reveal-on-scroll + gentle tilt for content cards
    try {
      if (!prefersReducedMotion) {
        const revealEls = Array.from(document.querySelectorAll("[data-reveal]"));
        const io = new IntersectionObserver((entries) => {
          for (const entry of entries) {
            if (!entry.isIntersecting) continue;
            entry.target.classList.add("in");
            io.unobserve(entry.target);
          }
        }, { threshold: 0.12 });
        for (const el of revealEls) io.observe(el);

        const tiltEls = [];
        // Tilt effect disabled for smoother experience
        for (const el of tiltEls) {
          const maxTilt = 6;
          const reset = () => { el.style.transform = "rotateX(0deg) rotateY(0deg)"; };
          const move = (e) => {
            const r = el.getBoundingClientRect();
            const px = (e.clientX - r.left) / r.width;
            const py = (e.clientY - r.top) / r.height;
            const rx = (0.5 - py) * (maxTilt * 2);
            const ry = (px - 0.5) * (maxTilt * 2);
            el.style.transform = `rotateX(${rx.toFixed(2)}deg) rotateY(${ry.toFixed(2)}deg)`;
          };
          el.addEventListener("pointermove", move);
          el.addEventListener("pointerleave", reset);
        }
      } else {
        document.querySelectorAll("[data-reveal]").forEach((el) => el.classList.add("in"));
      }
    } catch {
      document.querySelectorAll("[data-reveal]").forEach((el) => el.classList.add("in"));
    }

    // Promo video: pause offscreen, play onscreen (and respect reduced motion)
    const promoVideo = document.querySelector(".promo-video");
    if (promoVideo) {
      promoVideo.muted = true;
      promoVideo.playsInline = true;

      if (prefersReducedMotion) {
        promoVideo.pause();
        promoVideo.removeAttribute("autoplay");
        promoVideo.setAttribute("controls", "");
      }

      const safePlay = () => {
        if (prefersReducedMotion) return;
        const p = promoVideo.play();
        if (p && typeof p.catch === "function") p.catch(() => {});
      };

      if ("IntersectionObserver" in window) {
        const vio = new IntersectionObserver((entries) => {
          for (const entry of entries) {
            if (entry.isIntersecting) safePlay();
            else promoVideo.pause();
          }
        }, { threshold: 0.35 });
        vio.observe(promoVideo);
      } else {
        safePlay();
      }
    }

    // ====== ENTRANCE ANIMATIONS ======
    if (typeof gsap !== "undefined") {
      gsap.fromTo(".hero", { y: 14, opacity: 0 }, { y: 0, opacity: 1, duration: 0.8, ease: "power2.out", delay: ageOk ? 0.05 : 0 });
      gsap.fromTo(".nav-link", { y: 8, opacity: 0 }, { y: 0, opacity: 1, duration: 0.55, ease: "power2.out", stagger: 0.06, delay: ageOk ? 0.22 : 0.05 });
    }

    // ====== SCATTERED BUBBLES (Three.js) ======
    // Turn this on only if you want the bubble FX.
    // Leaving it off avoids any chance of tick() impacting scroll/perf.
    const ENABLE_BUBBLES = true;

    if (ENABLE_BUBBLES && typeof THREE !== "undefined") {
      const canvas = document.getElementById("fx");
      if (canvas) {
        const renderer = new THREE.WebGLRenderer({
          canvas,
          antialias: true,
          alpha: true,
          powerPreference: "high-performance"
        });
        renderer.setClearColor(0x000000, 0);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

        // ===== Bubbles that sparkle (spheres + glints) =====
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(45, 1, 0.1, 100);
        camera.position.set(0, 0.10, 7.4);

        // Soft lighting for specular highlights
        scene.add(new THREE.AmbientLight(0xffffff, 0.55));
        const rim = new THREE.DirectionalLight(0xffffff, 0.65);
        rim.position.set(-2.5, 3.0, 2.0);
        scene.add(rim);
        const key = new THREE.DirectionalLight(0xffffff, 0.45);
        key.position.set(3.5, 2.2, 1.5);
        scene.add(key);

        const bounds = {
          x: 9.0,
          y: 5.2,
          zNear: -0.9,
          zFar: -13.5
        };

        const palette = [
          new THREE.Color("#93B1A6"),
          new THREE.Color("#5C8374"),
          new THREE.Color("#ffffff"),
        ];

        const rand = (a, b) => a + Math.random() * (b - a);
        const getBubbleCount = () => {
          if (prefersReducedMotion) return 0;
          const hero = document.querySelector(".hero");
          const rect = hero ? hero.getBoundingClientRect() : { width: window.innerWidth, height: window.innerHeight };
          const area = rect.width * rect.height;
          const base = Math.round(area / 52000);
          return Math.max(12, Math.min(22, base));
        };

        const bubbleGeo = new THREE.SphereGeometry(1, 20, 20);
        const makeBubbleMaterial = (tint) => {
          const m = new THREE.MeshPhysicalMaterial({
            color: tint.clone().lerp(new THREE.Color("#ffffff"), 0.55),
            metalness: 0.0,
            roughness: 0.10,
            transmission: 0.96,
            thickness: 0.65,
            ior: 1.18,
            clearcoat: 1.0,
            clearcoatRoughness: 0.06,
            transparent: true,
            opacity: 0.0,
            depthWrite: false
          });
          m.emissive = new THREE.Color("#ffffff");
          m.emissiveIntensity = 0.0;
          return m;
        };

        const bubbles = [];
        const bubbleCount = getBubbleCount();

        const spawnBubble = (mesh, yOverride) => {
          mesh.position.set(
            (Math.random() - 0.5) * bounds.x,
            (typeof yOverride === "number" ? yOverride : (Math.random() - 0.5) * bounds.y),
            THREE.MathUtils.lerp(bounds.zNear, bounds.zFar, Math.random())
          );
        };

        for (let i = 0; i < bubbleCount; i++) {
          const radius = rand(0.18, 0.92) * (Math.random() ** 1.3);
          const tint = palette[Math.floor(Math.random() * palette.length)];
          const mesh = new THREE.Mesh(bubbleGeo, makeBubbleMaterial(tint));
          mesh.scale.setScalar(radius);
          spawnBubble(mesh);
          bubbles.push({
            mesh,
            vy: rand(0.0012, 0.0048),
            vx: rand(0.0007, 0.0030) * (Math.random() < 0.5 ? -1 : 1),
            wobble: rand(0.001, 0.006),
            phase: Math.random() * Math.PI * 2,
            fadeSpeed: rand(0.55, 1.05),
            baseOpacity: rand(0.03, 0.08),
            ampOpacity: rand(0.02, 0.08),
            glint: Math.random()
          });
          scene.add(mesh);
        }

        // Sparkles: small additive glints that twinkle around bubbles
        const sparkleGeo = new THREE.BufferGeometry();
        const sparkleCount = prefersReducedMotion ? 0 : (bubbleCount * 7 + 70);
        const sparklePos = new Float32Array(sparkleCount * 3);
        const sparkleSize = new Float32Array(sparkleCount);
        const sparkleSeed = new Float32Array(sparkleCount);
        const sparkleBubble = new Uint16Array(sparkleCount);
        const sparkleOff = new Float32Array(sparkleCount * 3);
        const sparkleDrift = new Float32Array(sparkleCount);

        const resetSparkle = (i) => {
          sparkleBubble[i] = bubbleCount ? Math.floor(Math.random() * bubbleCount) : 0;
          const oi = i * 3;
          sparkleOff[oi + 0] = rand(-0.85, 0.85);
          sparkleOff[oi + 1] = rand(-0.85, 0.85);
          sparkleOff[oi + 2] = rand(-0.85, 0.85);
          sparkleDrift[i] = rand(0.0005, 0.0019);
          sparkleSize[i] = rand(8.0, 20.0) * (Math.random() ** 0.4);
          sparkleSeed[i] = Math.random();
        };
        for (let i = 0; i < sparkleCount; i++) resetSparkle(i);

        sparkleGeo.setAttribute("position", new THREE.BufferAttribute(sparklePos, 3));
        sparkleGeo.setAttribute("aSize", new THREE.BufferAttribute(sparkleSize, 1));
        sparkleGeo.setAttribute("aSeed", new THREE.BufferAttribute(sparkleSeed, 1));

        const sparkleMat = new THREE.ShaderMaterial({
          transparent: true,
          depthWrite: false,
          blending: THREE.AdditiveBlending,
          uniforms: {
            uTime: { value: 0 },
            uOpacity: { value: 0.24 },
            uColorA: { value: new THREE.Color("#93B1A6") },
            uColorB: { value: new THREE.Color("#ffffff") }
          },
          vertexShader: `
            uniform float uTime;
            attribute float aSize;
            attribute float aSeed;
            varying float vSeed;
            void main(){
              vSeed = aSeed;
              vec4 mv = modelViewMatrix * vec4(position, 1.0);
              float tw = 0.72 + 0.28 * sin(uTime*3.1 + aSeed*18.0);
              float ps = aSize * tw * (1.0 / max(0.6, -mv.z));
              gl_PointSize = clamp(ps, 2.0, 40.0);
              gl_Position = projectionMatrix * mv;
            }
          `,
          fragmentShader: `
            uniform float uTime;
            uniform float uOpacity;
            uniform vec3 uColorA;
            uniform vec3 uColorB;
            varying float vSeed;
            void main(){
              vec2 uv = gl_PointCoord - vec2(0.5);
              float d = length(uv);

              float core = smoothstep(0.50, 0.06, d);
              float ring = smoothstep(0.48, 0.00, d) * smoothstep(0.20, 0.00, d);
              float sx = smoothstep(0.06, 0.00, abs(uv.x)) * smoothstep(0.48, 0.00, abs(uv.y));
              float sy = smoothstep(0.06, 0.00, abs(uv.y)) * smoothstep(0.48, 0.00, abs(uv.x));
              float streak = (sx + sy) * 0.65;

              float tw = 0.55 + 0.45 * sin(uTime*4.2 + vSeed*14.0);
              vec3 col = mix(uColorA, uColorB, fract(vSeed*5.3));
              float a = (core*0.50 + ring*0.90 + streak) * uOpacity * tw;
              if (a < 0.01) discard;
              gl_FragColor = vec4(col, a);
            }
          `
        });
        const sparkles = new THREE.Points(sparkleGeo, sparkleMat);
        scene.add(sparkles);

        const heroEl = document.querySelector(".hero");

        const resize = () => {
          const rect = heroEl ? heroEl.getBoundingClientRect() : { width: window.innerWidth, height: window.innerHeight };
          const w = Math.max(1, Math.round(rect.width));
          const h = Math.max(1, Math.round(rect.height));
          renderer.setSize(w, h, false);
          camera.aspect = w / h;
          camera.updateProjectionMatrix();

          const ar = w / h;
          bounds.x = 10.8 * ar;
          bounds.y = 6.2;
        };
        window.addEventListener("resize", resize);
        resize();

        // Subtle parallax
        let mx = 0, my = 0;
        window.addEventListener("pointermove", (e) => {
          mx = (e.clientX / window.innerWidth) * 2 - 1;
          my = (e.clientY / window.innerHeight) * 2 - 1;
        });

        let rafId = 0;
        let t = 0;
        const tick = () => {
          t += 0.010;
          sparkleMat.uniforms.uTime.value = t;

          camera.position.x = mx * 0.18;
          camera.position.y = 0.10 + (-my) * 0.10;
          camera.lookAt(0, 0, -6);

          for (const b of bubbles) {
            const m = b.mesh;
            m.position.y += b.vy;
            m.position.x += b.vx + Math.sin(t * 0.8 + b.phase) * b.wobble * 0.35;

            if (m.position.y > bounds.y * 0.55) {
              spawnBubble(m, -bounds.y * 0.55);
            }
            if (m.position.x > bounds.x * 0.55) m.position.x = -bounds.x * 0.55;
            if (m.position.x < -bounds.x * 0.55) m.position.x = bounds.x * 0.55;

            m.rotation.y += 0.0016;
            m.rotation.x += 0.0010;

            const fade = (Math.sin(t * b.fadeSpeed + b.phase) + 1) * 0.5;
            const op = THREE.MathUtils.clamp(b.baseOpacity + fade * b.ampOpacity, 0.0, 0.16);
            m.material.opacity = op;

            // Sparkle the bubble itself (subtle glints)
            const gl = Math.max(0, Math.sin(t * 3.2 + b.glint * 14.0));
            m.material.emissiveIntensity = 0.02 + gl * 0.06;
          }

          for (let i = 0; i < sparkleCount; i++) {
            const bi = sparkleBubble[i];
            const b = bubbles[bi];
            const oi = i * 3;
            if (b) {
              // Drift offsets around the bubble so glints feel "attached"
              sparkleOff[oi + 1] += sparkleDrift[i];
              if (sparkleOff[oi + 1] > 1.1) resetSparkle(i);

              sparklePos[oi + 0] = b.mesh.position.x + sparkleOff[oi + 0];
              sparklePos[oi + 1] = b.mesh.position.y + sparkleOff[oi + 1];
              sparklePos[oi + 2] = b.mesh.position.z + sparkleOff[oi + 2];
            }
          }
          sparkleGeo.attributes.position.needsUpdate = true;

          renderer.render(scene, camera);
          rafId = requestAnimationFrame(tick);
        };

        const startFx = () => {
          if (!rafId) rafId = requestAnimationFrame(tick);
        };
        const stopFx = () => {
          if (rafId) cancelAnimationFrame(rafId);
          rafId = 0;
        };

        document.addEventListener("visibilitychange", () => {
          if (document.hidden) stopFx();
          else startFx();
        });

        // Start/stop FX when the hero is on screen
        if (!prefersReducedMotion && heroEl && "IntersectionObserver" in window) {
          const io = new IntersectionObserver((entries) => {
            for (const entry of entries) {
              if (entry.isIntersecting) {
                document.body.classList.add("fx-on");
                resize();
                startFx();
              } else {
                document.body.classList.remove("fx-on");
                stopFx();
              }
            }
          }, { threshold: 0.15 });
          io.observe(heroEl);
        } else {
          if (!prefersReducedMotion) document.body.classList.add("fx-on");
          startFx();
        }
      }
    }

    // (status removed)
  </script>
</body>
</html>
